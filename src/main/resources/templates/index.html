<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link th:href="@{/css/infoProduct.css}" rel="stylesheet" type="text/css">
  <link th:href="@{/css/main.css}" rel="stylesheet" type="text/css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <title>Главная страница</title>
</head>
<body>

  <a class="btn btn-dark" th:href="@{/authentication/login}" role="button">Войти в личный кабинет</a>

  <h1>Главная страница магазина</h1>

  <form th:method="POST" th:action="@{/product/search}">
    <fieldset>
      <legend>Выберите параметр для сортировки: </legend>

      <label for="search" class="form-label">Поиск по наименованию</label>
      <input name="search" class="form-control" id="search" th:value="*{value_search}">

      <p>Цена, ₽</p>
      <label for="ot" class="form-label">От</label>
      <input type="text" class="form-control" name="ot" id="ot" th:value="*{value_price_ot}"
             placeholder="">

      <label for="do" class="form-label">До</label>
      <input type="text" class="form-control"  name="do" id="do" th:value="*{value_price_do}">

      <div>
        <div class="form-check form-check-inline">
          <label for="ascending_price" class="form-label">Отсортировать по возрастанию цены</label>
          <input type="radio" class="form-control" id="ascending_price" name="price"
                 value="sorted_by_ascending_price">
        </div>

        <div class="form-check form-check-inline">
          <label for="descending_price" class="form-label">Отсортировать по убыванию цены</label>
          <input type="radio" class="form-control" id="descending_price" name="price"
                 value="sorted_by_descending_price">
        </div>


        <p>Категория товаров: </p>

        <div class="form-check form-check-inline">
          <label for="food" class="form-check-label">Корм</label>
          <input class="form-check-input" type="radio" id="food" name="category" value="food">
        </div>
        <div class="form-check form-check-inline">
          <label for="toys" class="form-check-label">Игрушки</label>
          <input class="form-check-input" type="radio" id="toys" name="category" value="toys">
        </div>
        <div class="form-check form-check-inline">
          <label for="cosmetics" class="form-check-label">Косметика и гигиена</label>
          <input class="form-check-input" type="radio" id="cosmetics" name="category" value="cosmetics">
        </div>
        <button type="submit" class="btn btn-primary" value="Найти"></button>
      </div>
    </fieldset>
    <br>
  </form>

<!--  <div th:unless="${#lists.isEmpty(found_product)}">
    <h3>Вот, что мы нашли по вашему запросу:</h3>

    <div th:each="product : ${found_product}">
      <img th:src="'/img/' + ${product.getImageList()[0].getFileName()}" width="300px">
      <br>
      <a th:href="@{/product/info/{id}(id=${product.getId()})}" th:text="${product.getTitle()}"></a>
      <p th:text="'Цена: ' + ${product.getPrice()}"></p>
      <hr>
    </div>
  </div>-->

  <div class="productListFull">
    <h3>Все товары: </h3>

    <div th:each="product : ${products}" class="cards row row-cols-1 row-cols-md-3 g-4">
      <div class="col">
        <div class="card" style="width: 18rem;">
          <img th:src="'/img/' + ${product.getImageList()[0].getFileName()}" class="card-img-top" >
          <div class="card-body">
            <a th:href="@{/product/info/{id}(id=${product.getId()})}">
              <h5 class="card-title" th:text="${product.getTitle()}"></h5>
            </a>
            <p th:text="'Цена: ' + ${product.getPrice()}" class="card-text"></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>